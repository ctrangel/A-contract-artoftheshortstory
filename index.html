<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Art of the Short Story</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <script>
      const characters = [
        {
          name: "Narrator",
          description:
            "The primary character through whose eyes the story unfolds, grappling with personal and professional challenges at Joysticks and in family life. This song represents him bumbling about in life, but still providing the most.",
          image: "./media/pics/m4.png",
          audio: "media/song/song4.wav",
        },
        {
          name: "Mr. Frendt",
          description:
            "The Boss and CEO, but really just the manager at Joysticks who enforces strict workplace policies, including the pivotal moment of dismissing an employee, which impacts the story's social dynamics. I envision him as Mr.Krabs. This song represents him and his money.",
          image: "./media/pics/m3.avif",
          audio: "media/song/with_a_side_of_bees.wav",
        },
        {
          name: "Min",
          description:
            "The narrator's sister, central to the familial aspect of the story, struggling with socio-economic conditions and raising a child.",
          image: "./media/pics/m5.jpg",
          audio: "media/song/song2.wav",
        },
        {
          name: "Jade",
          description:
            "Similar to Min, she is integral in showcasing the family's struggles and shared responsibilities in raising children under challenging conditions.",
          image: "./media/pics/m6.webp",
          audio: "media/song/song3.wav",
        },
        {
          name: "Aunt Bernie",
          description:
            "Her death and subsequent supernatural return are key to the story's dramatic and surreal elements, deeply affecting the family's dynamics and future. She's given up on her peaceful contemptiveness. She want's to reconcile her faults in life. A sad life she lives. This song her taking a hold.",
          image: "./media/pics/m1.webp",
          audio: "media/song/song9.wav",
        },
        {
          name: "Ma",
          description:
            "As the family matriarch, her relationships and decisions influence the narrator and siblings, reflecting the complexities of familial support and tensions.",
          image: "./media/pics/m7.jpg",
          audio: "media/song/song12.wav",
        },
        {
          name: "Freddie",
          description:
            "'Mr. Phone Poll', Ma's boyfriend. Big hypocrite this one.",
          image: "./media/pics/m2.jpg",
          audio: "media/song/song8.wav",
        },
        {
          name: "Father Brian",
          description:
            "Plays a critical role in the spiritual and communal reaction to Aunt Bernie's death and the bizarre events that follow, helping to ground the surreal aspects of the story in a broader social and ethical context.",
          image: "./media/pics/m8.webp",
          audio: "media/song/song7.wav",
        },
        {
          name: "Matt Merton",
          description:
            "Host of 'How My Child Died Violently,' a television show that reflects the darker, sensational aspects of popular culture that Min and Jade consume, impacting their worldview and providing context for their daily lives. This song is the antithesis of him. Mellow and longing. Offers a glimpse of the people watching him.",
          image: "./media/pics/m9.webp",
          audio: "media/song/song11.wav",
        },
        {
          name: "Troy and Mac",
          description:
            "The children add to the stakes of the family's situation, emphasizing the future and innocence that the adults are fighting to protect.",
          image: "./media/pics/m10.jpg",
          audio: "media/song/song6.wav",
        },
      ];

      function generateCards() {
        const container = document.getElementById("card-container");
        characters.forEach((char, index) => {
          const card = document.createElement("div");
          card.className = "card";
          card.innerHTML = `
            <img src="${char.image}" alt="${char.name}">
            <h3>${char.name}</h3>
            <p>${char.description}</p>
            <button onclick="playAudio('audio${index}', this)">Play Soundtrack</button>
            <audio id="audio${index}" src="${char.audio}"></audio>
        `;
          container.appendChild(card);
        });
      }

      function playAudio(audioId, button) {
        var audio = document.getElementById(audioId);
        if (audio) {
          if (audio.paused) {
            audio.play().catch((e) => {
              console.error("Error attempting to play audio:", e);
              console.log(audioId);
              console.log(audio);
              // Reset button text in case of error
              button.textContent = "Play Soundtrack";
            });
            button.textContent = "||";
          } else {
            audio.pause();
            button.textContent = "Play Soundtrack";
          }
        } else {
          console.log("No audio element found with id:", audioId);
        }
      }

      // Generate cards on page load
      window.onload = generateCards;
    </script>
    <div class="container">
      <header>
        <div id="header">
          <h1>Final Website by Christian Rangel</h1>
          <h2>
            Enjoy your favorite characters from Sea Oak by George Saunders as
            Marmots!
          </h2>
          <h3>Each with their own soundtrack</h3>
        </div>
      </header>
      <div id="card-container"></div>

      <!-- Repeat for other cards -->
    </div>
  </body>
</html>
